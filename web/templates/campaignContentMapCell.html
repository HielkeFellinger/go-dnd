{{define "campaignContentMapCell"}}
<div id="{{.mapId}}-{{.id}}-cell-element" class="element" {{ if .hasControl }} onclick="loadCharDetailsByMapItem('{{.id}}')" draggable="true" ondragstart="drag(event)" {{ end }}
     style="background-image: url('{{.backgroundImage}}')">
    <span><b>{{.entityName}}</b></span>
    <!--  Hide / Hidden icon  -->
    {{ if .hidden }}
        <span>Hidden</span>
    {{ else }}
        <span>Visible</span>
    {{ end}}
    <!--  Health bar  -->
    {{ if .healthBar }}
    <progress id="{{.mapId}}-{{.id}}-health" value="{{.healthCurrent}}" max="{{.healthTotal}}" style="max-width: 100%; min-width: 100%"></progress>
    {{ end }}

    {{ if .hasControl }}
    <div id="{{.mapId}}-{{.id}}-cell-element-menu" class="context-menu" onclick="hideContextMenuOfMapItem(event)">
        <div class="context-menu-item" onclick="toggleVisibilityFromContextMenu('{{.mapId}}-{{.id}}-cell-element')">Toggle Visibility</div>
        {{ if .lead }}
            <div class="context-menu-item" onclick="removeItemFromMap('{{.mapId}}', '{{.id}}')">Remove from map</div>
        {{ end }}
        <div class="context-menu-item end" onclick="hideContextMenuOfMapItem(event)">Close</div>
    </div>
    {{ end }}
</div>
{{end}}