{{define "campaignContentMap"}}
<div id="{{.id}}" class="tab-content">
    {{ if .lead }}
    <div>
        <label> Is Map public?
            <input id="is{{.id}}Active" type="checkbox" {{ if .active }} checked {{end}} onchange="updateMapVisibility('{{.id}}')">
        </label>
        <button class="btn" onclick="">Refresh</button>
        <br>
        <label> Add Character
            <select id="charToMap{{.id}}Select">
                <option value="none">none</option>
                {{ range $character := .characters}}
                    <option value="{{$character.GetId}}">{{$character.GetName}}</option>
                {{ end }}
            </select>
        </label>
        <button class="btn" onclick="addCharacterToMap('{{ .id }}')">Add</button>
    </div>
    {{ end }}
    <div>
        <h3> {{ .name }} {{.lead}} </h3>
        <button class="btn" onclick="makeMapsSmaller()"><b>-</b></button> <button class="btn" onclick="makeMapsBigger()"><b>+</b></button> <span>MAP NAV BAR + - ' {{.backgroundImage}} '</span>
    </div>
    <div class="campaign-map" onscroll="onMapScroll(this)">
        <div class="grid" style="background-image: url('{{.backgroundImage}}')">
            {{ range $yVal := .y}}
                {{ range $xVal := $.x}}
                    <div class="cell" id="{{$.id}}-cell-y{{$yVal}}-x{{$xVal}}" oncontextmenu="showContextMenuOfDefaultCell(event)">
                        <div class="content" id="{{$.id}}-cell-y{{$yVal}}-x{{$xVal}}-content" ondrop="drop(event)" ondragover="allowDrop(event)">

                        </div>
                        <div id="{{$.id}}-cell-y{{$yVal}}-x{{$xVal}}-default-context-menu" class="context-menu" onclick="hideCellContextMenu(event)">
                            <div class="context-menu-item" onclick="sendSignal('{{$.id}}-cell-y{{$yVal}}-x{{$xVal}}-default-context-menu')">Send Signal</div>
                            <div class="context-menu-item end" onclick="hideCellContextMenu(event)">Close</div>
                        </div>
                    </div>
                {{ end }}
            <br>
            {{ end }}
        </div>
    </div>
</div>
{{end}}